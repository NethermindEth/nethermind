name: Assertoor tests

on:
  workflow_dispatch:
  schedule:
    - cron: '0 0 * * *'
  push:
    branches: [kch/assertoor]

jobs:
  get_tests:
    name: "Run assertoor tests on Nethermind pairs"
    runs-on: ubuntu-latest
    outputs:
      test_result: ${{ steps.test_result.outputs.test_result }}
      test_status: ${{ steps.test_result.outputs.test_status }}
      failed_test_status: ${{ steps.test_result.outputs.failed_test_status }}
    steps:
    - name: Checkout Repository
      uses: actions/checkout@v4
    - name: Kurtosis Assertoor GitHub Action
      uses: ethpandaops/kurtosis-assertoor-github-action@v1
      with:
        ethereum_package_url: "."
        ethereum_package_branch: ""
        ethereum_package_args: .github/tests/mix-assert.yaml
